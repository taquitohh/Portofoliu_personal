---
const navLinks = [
  { href: '#acasa', labelRo: 'AcasÄƒ', labelEn: 'Home' },
  { href: '#despre', labelRo: 'Despre', labelEn: 'About' },
  { href: '#skills', labelRo: 'Skills', labelEn: 'Skills' },
  { href: '#proiecte', labelRo: 'Proiecte', labelEn: 'Projects' },
  { href: '#voluntariat', labelRo: 'Voluntariat', labelEn: 'Volunteering' },
  { href: '#contact', labelRo: 'Contact', labelEn: 'Contact' },
];
---

<nav class="navbar">
  <div class="nav-container">
    <a href="#" class="logo">
      <span class="logo-text">DC</span>
    </a>
    
    <div class="nav-controls">
      <!-- Theme Toggle -->
      <button class="theme-toggle" aria-label="Toggle theme" title="Toggle dark/light mode">
        <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="4"/>
          <path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/>
        </svg>
        <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/>
        </svg>
      </button>

      <!-- Language Toggle -->
      <button class="lang-toggle" aria-label="Toggle language">
        <span class="lang-ro">RO</span>
        <span class="lang-en">EN</span>
      </button>
    </div>

    <button class="mobile-toggle" aria-label="Toggle menu">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <ul class="nav-links">
      {navLinks.map(link => (
        <li>
          <a href={link.href}>
            <span class="nav-text-ro">{link.labelRo}</span>
            <span class="nav-text-en">{link.labelEn}</span>
          </a>
        </li>
      ))}
    </ul>
  </div>
</nav>

<style>
  .navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    padding: 1rem 0;
    background: rgba(15, 15, 26, 0.8);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(124, 58, 237, 0.1);
    transition: var(--transition);
  }

  :global([data-theme="light"]) .navbar {
    background: rgba(255, 255, 255, 0.9);
    border-bottom: 1px solid rgba(124, 58, 237, 0.1);
  }

  .nav-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .logo {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .logo-text {
    font-size: 1.5rem;
    font-weight: 700;
    background: var(--gradient-1);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .nav-controls {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    order: 2;
  }

  .theme-toggle,
  .lang-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg-card);
    border: 1px solid var(--bg-card);
    border-radius: 8px;
    cursor: pointer;
    transition: var(--transition);
    color: var(--text-secondary);
  }

  .theme-toggle {
    width: 40px;
    height: 40px;
  }

  .theme-toggle:hover,
  .lang-toggle:hover {
    border-color: var(--primary);
    color: var(--primary);
  }

  .sun-icon {
    display: none;
  }

  .moon-icon {
    display: block;
  }

  :global([data-theme="light"]) .sun-icon {
    display: block;
  }

  :global([data-theme="light"]) .moon-icon {
    display: none;
  }

  .lang-toggle {
    padding: 0.5rem 0.75rem;
    font-weight: 600;
    font-size: 0.8rem;
    gap: 0.25rem;
  }

  .lang-ro {
    color: var(--primary);
  }

  .lang-en {
    color: var(--text-muted);
  }

  :global([data-lang="en"]) .lang-ro {
    color: var(--text-muted);
  }

  :global([data-lang="en"]) .lang-en {
    color: var(--primary);
  }

  .nav-links {
    display: flex;
    list-style: none;
    gap: 2.5rem;
    order: 3;
  }

  .nav-links a {
    font-size: 0.95rem;
    font-weight: 500;
    color: var(--text-secondary);
    transition: var(--transition);
    position: relative;
  }

  .nav-text-en {
    display: none;
  }

  :global([data-lang="en"]) .nav-text-ro {
    display: none;
  }

  :global([data-lang="en"]) .nav-text-en {
    display: inline;
  }

  .nav-links a::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--gradient-1);
    transition: var(--transition);
  }

  .nav-links a:hover {
    color: var(--text-primary);
  }

  .nav-links a:hover::after {
    width: 100%;
  }

  .mobile-toggle {
    display: none;
    flex-direction: column;
    gap: 5px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 5px;
    order: 4;
  }

  .mobile-toggle span {
    width: 25px;
    height: 2px;
    background: var(--text-primary);
    transition: var(--transition);
  }

  @media (max-width: 768px) {
    .mobile-toggle {
      display: flex;
    }

    .nav-links {
      position: fixed;
      top: 70px;
      left: 0;
      right: 0;
      background: var(--bg-secondary);
      flex-direction: column;
      align-items: center;
      padding: 2rem;
      gap: 1.5rem;
      transform: translateY(-150%);
      transition: var(--transition);
    }

    .nav-links.active {
      transform: translateY(0);
    }

    .nav-controls {
      margin-right: 1rem;
    }
  }
</style>

<script>
  // Theme Toggle
  const themeToggle = document.querySelector('.theme-toggle');
  const html = document.documentElement;
  
  // Check saved theme or system preference
  const savedTheme = localStorage.getItem('theme');
  const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  
  if (savedTheme) {
    html.setAttribute('data-theme', savedTheme);
  } else if (!systemPrefersDark) {
    html.setAttribute('data-theme', 'light');
  }

  themeToggle?.addEventListener('click', () => {
    const currentTheme = html.getAttribute('data-theme');
    const newTheme = currentTheme === 'light' ? 'dark' : 'light';
    html.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
  });

  // Language Toggle
  const langToggle = document.querySelector('.lang-toggle');
  const savedLang = localStorage.getItem('lang') || 'ro';
  html.setAttribute('data-lang', savedLang);

  langToggle?.addEventListener('click', () => {
    const currentLang = html.getAttribute('data-lang');
    const newLang = currentLang === 'ro' ? 'en' : 'ro';
    html.setAttribute('data-lang', newLang);
    localStorage.setItem('lang', newLang);
  });

  // Mobile Menu Toggle
  const toggle = document.querySelector('.mobile-toggle');
  const navLinks = document.querySelector('.nav-links');

  toggle?.addEventListener('click', () => {
    navLinks?.classList.toggle('active');
  });

  document.querySelectorAll('.nav-links a').forEach(link => {
    link.addEventListener('click', () => {
      navLinks?.classList.remove('active');
    });
  });
</script>
